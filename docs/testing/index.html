<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/engine/blog/rss.xml" title="Code11 Engine Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/engine/blog/atom.xml" title="Code11 Engine Blog Atom Feed"><title data-react-helmet="true">Testing | Code11 Engine</title><meta data-react-helmet="true" property="og:url" content="https://code11.github.io/engine/docs/testing"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Testing | Code11 Engine"><meta data-react-helmet="true" name="description" content="Engine gives a lot of emphasis to building testable applications. Recommended"><meta data-react-helmet="true" property="og:description" content="Engine gives a lot of emphasis to building testable applications. Recommended"><link data-react-helmet="true" rel="shortcut icon" href="/engine/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://code11.github.io/engine/docs/testing"><link data-react-helmet="true" rel="alternate" href="https://code11.github.io/engine/docs/testing" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://code11.github.io/engine/docs/testing" hreflang="x-default"><link rel="stylesheet" href="/engine/assets/css/styles.46a53809.css">
<link rel="preload" href="/engine/assets/js/runtime~main.80cf32b6.js" as="script">
<link rel="preload" href="/engine/assets/js/main.2825fb7f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1lZV">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/engine/"><img src="/engine/img/logo.png" alt="Code11 Logo" class="themedImage_25R6 themedImage--light_kMcw navbar__logo"><img src="/engine/img/logo.png" alt="Code11 Logo" class="themedImage_25R6 themedImage--dark_3s9x navbar__logo"><strong class="navbar__title">Engine</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/engine/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/code11/engine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_2Ri7 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_wtR2">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_wtR2">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/engine/"><img src="/engine/img/logo.png" alt="Code11 Logo" class="themedImage_25R6 themedImage--light_kMcw navbar__logo"><img src="/engine/img/logo.png" alt="Code11 Logo" class="themedImage_25R6 themedImage--dark_3s9x navbar__logo"><strong class="navbar__title">Engine</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/engine/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/code11/engine" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_1e1F"><div class="docSidebarContainer_1RQu" role="complementary"><div class="sidebar_3wYg"><div class="menu menu--responsive thin-scrollbar menu_J9-0"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2wtE" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/engine/docs/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/usage">Usage</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/engine/docs/cli">CLI</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/concepts/state">State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/concepts/path-composition">Path Composition</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/packages">Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/best-practices">Best Practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/guides/debugging">Debugging</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/engine/docs/testing">Testing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Patterns</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/aggregate">Aggregate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/collections">Collections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/flags">Flags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/request-response">Request-Response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/search">Search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/sections">Sections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/patterns/triggers">Triggers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Implementations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/implementations/react">React</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">React</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/setup">Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/static-ui">Static UI</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">State</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/state-is-king">State is King</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/accessing-state-in-components">Accessing State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/updating-state-from-components">Updating State</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/introducing-producers">Producers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/state-as-communication-channel">State as Communication Channel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/tutorials/react/wrapping-up">Wrapping Up</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Modules</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/modules/engine">Engine Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/engine/docs/modules/react">React Module</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/engine">engine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/producer">producer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/view">view</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/observe">observe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/get">get</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/update">update</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/prop">prop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/arg">arg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/param">param</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/wildcard">wildcard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/engine/docs/api/path">path</a></li></ul></li></ul></div></div></div><main class="docMainContainer_1QOY"><div class="container padding-vert--lg docItemWrapper_1hf3"><div class="row"><div class="col docItemCol_1xMw"><div class="docItemContainer_2GOB"><article><header><h1 class="docTitle_1_V6">Testing</h1></header><div class="markdown"><p>Engine gives a lot of emphasis to building testable applications. Recommended
way to test Engine applications is using <code>@c11/engine.test</code> package, which can
be installed like any other npm package.</p><div class="codeBlockContainer_C-RQ"><div class="codeBlockContent_3O-4 sh"><div tabindex="0" class="prism-code language-sh codeBlock_32SA thin-scrollbar"><div class="codeBlockLines_OISB" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install -D @c11/engine.test jest</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_bECU">Copy</button></div></div><p><code>@c11/engine.test</code> provides utilities for writing tests which can be used with
the <a href="https://jestjs.io/" target="_blank" rel="noopener noreferrer">jest</a> testing framework. Jest is the only Engine supported
testing framework for now.</p><p>Engine applications are combinations of <a href="/engine/docs/api/view">views</a> and
<a href="/engine/docs/api/producer">producers</a>. Naturally, unit testing Engine applications is
achieved by writing unit tests for its <code>producer</code>s and <code>view</code>s.</p><div class="codeBlockContainer_C-RQ"><div class="codeBlockContent_3O-4 ts"><div tabindex="0" class="prism-code language-ts codeBlock_32SA thin-scrollbar"><div class="codeBlockLines_OISB" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Test</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@c11/engine.test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_bECU">Copy</button></div></div><p>Like rest of Engine ecosystem, API exposed by <code>@c11/engine.test</code> is also quite
minimal. Default export from <code>@c11/engine.test</code> has just 2 properties which can
be used to test <a href="/engine/docs/api/producer">producer</a>s and <a href="/engine/docs/api/view">view</a>s.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor__cAh" id="testing-producers"></a>Testing <code>producer</code>s<a class="hash-link" href="#testing-producers" title="Direct link to heading">#</a></h2><p>Engine <code>producer</code>s are just Javascript functions. Testing them boils down to
same rules that apply to testing functions. Only catch is the fact that it is
not possible to call producers directly. They are executed by
<a href="/engine/docs/api/engine">Engine</a> automatically when something interesting in state
changes. <code>Test.producer</code> is a convenience function which works around this
catch, and makes testing a breeze.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor__cAh" id="testproducer"></a><code>Test.producer</code><a class="hash-link" href="#testproducer" title="Direct link to heading">#</a></h3><p><code>Test.producer</code> is a replacement for
<a href="https://jestjs.io/docs/en/api#testname-fn-timeout" target="_blank" rel="noopener noreferrer">test/it</a> calls. A call to
<code>Test.producer</code> tests a single attribute (or function call) of a producer,
making a single test case for a producer&#x27;s test suite. For example, here&#x27;s what
a test suite for a producer with single test looks like:</p><div class="codeBlockContainer_C-RQ"><div class="codeBlockContent_3O-4 ts"><div tabindex="0" class="prism-code language-ts codeBlock_32SA thin-scrollbar"><div class="codeBlockLines_OISB" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">describe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;editListItem&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">Test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">producer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Guard action doesn&#x27;t exist&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    producer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> editListItem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    values</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    expectations</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      resetAction</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">set</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      updateMode</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">set</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_bECU">Copy</button></div></div><p>Unlike <a href="https://jestjs.io/docs/en/api#testname-fn-timeout" target="_blank" rel="noopener noreferrer">test/it</a>,
<code>Test.producer</code> don&#x27;t take a function where arbitrary logic and assertions can
go. <code>Test.producer</code> takes an object as its argument, which has following properties:</p><ul><li><p><strong><code>producer: producer</code></strong></p><p>The <a href="/engine/docs/api/producer">producer</a> function which you want to test.</p></li><li><p><strong><code>values: object</code></strong></p><p><code>values</code> is an object that represent the first argument of the producer. We
can&#x27;t call the producer directly to test it, <code>values</code> is how we:</p><ol><li>Provide arguments which producer gets from state (e.g using <code>Observe.&lt;path&gt;</code>)</li><li>Provide mocks for functions and other abstractions the producer uses</li></ol><p>When the test is executed, the producer will get called with these <code>values</code> as
argument.</p></li><li><p><strong><code>expectations: { set: object, merge: object, remove: object }</code></strong></p><p>Expectations is an object to declare our the behavior of our expectations in a
declarative manner. Unlike traditional jest tests, we can&#x27;t make arbitrary
assertions in our tests to ensure our producer behaves. <code>expectations</code> is an
object with three properties which can assert three ways in which a producer
can impact the state:</p><ul><li><strong><code>set: object</code></strong> asserts new values that producer adds to state</li><li><strong><code>merge: object</code></strong> asserts changes in existing values in state that
producer has introduced</li><li><strong><code>remove: object</code></strong> asserts values that producer has removed from the state</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor__cAh" id="testing-views"></a>Testing <code>view</code>s<a class="hash-link" href="#testing-views" title="Direct link to heading">#</a></h2><p>Engine&#x27;s <code>view</code>s are just producers with a significant specialty: they return
JSX which gets rendered in, well, a view. <code>@c11/engine.test</code> support testing
views with <code>Test.view</code> function. For now, only <a href="https://jestjs.io/docs/en/snapshot-testing" target="_blank" rel="noopener noreferrer">snapshot
testing</a> is supported to test views.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor__cAh" id="testview"></a><strong><code>Test.view</code></strong><a class="hash-link" href="#testview" title="Direct link to heading">#</a></h3><p>Similar to <code>Test.producer</code>, <code>Test.view</code> is how individual tests of a
<a href="/engine/docs/api/view">view</a>&#x27;s test suite are written.</p><p>Here&#x27;s what a simple test for a view looks like:</p><div class="codeBlockContainer_C-RQ"><div class="codeBlockContent_3O-4 ts"><div tabindex="0" class="prism-code language-ts codeBlock_32SA thin-scrollbar"><div class="codeBlockLines_OISB" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">describe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TodoList view&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">Test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">view</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;no list&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    state</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      todo</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        byId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">View</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">TodoList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    props</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> icons</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_bECU">Copy</button></div></div><p>Just like <code>Test.producer</code>, <code>Test.view</code> do not accept a function for its second
argument but an object to declare the test in a declarative manner.</p><ul><li><p><strong><code>state: Object</code></strong></p><p><code>state</code> is the application state at the time when view is first rendered.
Testing a view need access to the whole state because:</p><ol><li>Child views might be accessing this state directly</li><li>Producers attached to the view (or its child views) might make changes to
the application state, which in turn impact the view</li></ol></li><li><p><strong><code>View: view</code></strong></p><p><code>View</code> is the view itself that the test is being written for.</p></li><li><p><strong><code>props: object</code></strong></p><p><code>props</code> is an object of props that parent view has passed down.</p></li></ul><p>This is all that is needed to test an Engine view. A call to <code>Test.view</code> will
take a snapshot of how the view looks like when rendered in browser, and match
it with the previously taken snapshot to ensure nothing has broken the view. You
can read more about <a href="https://jestjs.io/docs/en/snapshot-testing" target="_blank" rel="noopener noreferrer">snapshot testing on Jest&#x27;s
documentation</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/code11/engine/edit/master/docs/docs/testing.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2owI" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/engine/docs/guides/debugging"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Debugging</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/engine/docs/patterns/aggregate"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Aggregate Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2sUM thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#testing-producers" class="table-of-contents__link">Testing <code>producer</code>s</a><ul><li><a href="#testproducer" class="table-of-contents__link"><code>Test.producer</code></a></li></ul></li><li><a href="#testing-views" class="table-of-contents__link">Testing <code>view</code>s</a><ul><li><a href="#testview" class="table-of-contents__link"><strong><code>Test.view</code></strong></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/engine/docs/">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/code11dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/code11/engine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Code<sup>11</sup>, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/engine/assets/js/runtime~main.80cf32b6.js"></script>
<script src="/engine/assets/js/main.2825fb7f.js"></script>
</body>
</html>