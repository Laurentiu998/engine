(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[202],{4107:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var r=n(4387);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=a,f=u["".concat(c,".").concat(m)]||u[m]||p[m]||i;return n?r.createElement(f,o(o({ref:t},d),{},{components:n})):r.createElement(f,o({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},621:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return c},toc:function(){return l},default:function(){return p}});var r=n(129),a=n(7489),i=(n(4387),n(4107)),o=["components"],s={id:"best-practices",title:"Best Practices",sidebar_label:"Best Practices"},c={unversionedId:"best-practices",id:"best-practices",isDocsHomePage:!1,title:"Best Practices",description:"Use Global state as a single source of truth",source:"@site/docs/best-practices.md",sourceDirName:".",slug:"/best-practices",permalink:"/engine/docs/best-practices",editUrl:"https://github.com/code11/engine/edit/master/docs/docs/best-practices.md",version:"current",sidebar_label:"Best Practices",frontMatter:{id:"best-practices",title:"Best Practices",sidebar_label:"Best Practices"},sidebar:"docs",previous:{title:"Packages",permalink:"/engine/docs/packages"},next:{title:"Debugging",permalink:"/engine/docs/guides/debugging"}},l=[{value:"Use Global state as a single source of truth",id:"use-global-state-as-a-single-source-of-truth",children:[]},{value:"Keep a normalized state",id:"keep-a-normalized-state",children:[]},{value:"Pass minimal data to children",id:"pass-minimal-data-to-children",children:[]},{value:"Component which needs the data, maintains the data",id:"component-which-needs-the-data-maintains-the-data",children:[]},{value:"Use Object to store domain objects instead of Array",id:"use-object-to-store-domain-objects-instead-of-array",children:[]},{value:"Prefer explicit types over boolean flags",id:"prefer-explicit-types-over-boolean-flags",children:[]}],d={toc:l};function p(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"use-global-state-as-a-single-source-of-truth"},"Use Global state as a single source of truth"),(0,i.kt)("p",null,"An instance of ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/engine"},"Engine")," can have a single\nglobal state, and it is recommended to use that as the single source of truth\nfor all the data required by all components of an application."),(0,i.kt)("h3",{id:"keep-a-normalized-state"},"Keep a normalized state"),(0,i.kt)("p",null,"Same data should not be kept in more than one paths in state."),(0,i.kt)("h3",{id:"pass-minimal-data-to-children"},"Pass minimal data to children"),(0,i.kt)("p",null,"Parent component should pass minimum amount of data to its children. Ideally, no\ndata should be passed to a component's children. Children are responsible for\nobserving the data they need from global state."),(0,i.kt)("h3",{id:"component-which-needs-the-data-maintains-the-data"},"Component which needs the data, maintains the data"),(0,i.kt)("p",null,"When different components need same data in different shapes, e.g ",(0,i.kt)("inlineCode",{parentName:"p"},"TodoFooter"),"\nneeds a to show number of pending ",(0,i.kt)("inlineCode",{parentName:"p"},"TodoItem"),"s, it is the responsibility of\n",(0,i.kt)("inlineCode",{parentName:"p"},"TodoFooter")," to have a producer which provides ",(0,i.kt)("inlineCode",{parentName:"p"},"pendingCount")," by counting\n",(0,i.kt)("inlineCode",{parentName:"p"},"TodoItem.status === 'pending'")," from state."),(0,i.kt)("h3",{id:"use-object-to-store-domain-objects-instead-of-array"},"Use Object to store domain objects instead of Array"),(0,i.kt)("p",null,"Domain objects are the critical business objects we have modeled to solve the\nbusiness problems with our software. It is recommended to keep domain objects in\n",(0,i.kt)("inlineCode",{parentName:"p"},"Object")," e.g ",(0,i.kt)("inlineCode",{parentName:"p"},"todosById: { [id: string]: TodoItem }"),"."),(0,i.kt)("p",null,"This is a good practice in general, and Engine provides nice optimizations for\nthis pattern. When a list of such objects is needed, a producer should be\ncreated to create and update a list of ",(0,i.kt)("inlineCode",{parentName:"p"},"id"),"s."),(0,i.kt)("h3",{id:"prefer-explicit-types-over-boolean-flags"},"Prefer explicit types over boolean flags"),(0,i.kt)("p",null,"Instead of using boolean flags, e.g ",(0,i.kt)("inlineCode",{parentName:"p"},"isDone")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"isEditing"),", prefer using\nexplicit types, e.g"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'enum Statuses {\n  done: "done",\n  pending: "pending"\n}\n\nenum Modes {\n  viewing: "viewing",\n  editing: "editing"\n}\n')),(0,i.kt)("p",null,"When using an ",(0,i.kt)("inlineCode",{parentName:"p"},"Enum"),", prefer using a string Enum."))}p.isMDXComponent=!0},129:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},7489:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})}}]);